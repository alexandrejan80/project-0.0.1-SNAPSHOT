<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
	<title>Message</title>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" type="text/css">
</head>
<body>
<div>
	<p><a href="/home">Retour à l'accueil</a></p>
	<p><a href="/allsports">Retour à la liste</a></p>
</div>

<div th:each="Message : ${listMsg}">
	<div th:if="${Message.idTransmitter eq transmitter.id}" th:text="${transmitter.firstname}"></div>
	<div th:if="${Message.idTransmitter eq recepter.id}" th:text="${recepter.firstname}"></div>

	<div th:text="${Message.text}"></div>
	<div th:text="${Message.Date}"></div>
</div>	

<form th:action="@{/message(value=${newMessage})}" th:object="${newMessage}" method="POST">
	<p>Message:<p>
	<input type="text" th:field="*{text}">
	<input type="hidden" th:name="id" th:id="*{id}" th:value="${id.id}">
	<input type="hidden" th:name="idTransmitter" th:id="*{idTransmitter}" th:value="${transmitter.id}">
	<input type="hidden" th:name="idRecipient" th:id="*{idRecipient}" th:value="${recepter.id}">
	<input type="submit" value="envoyer">
</form>
	
</div>
</body>
</html>